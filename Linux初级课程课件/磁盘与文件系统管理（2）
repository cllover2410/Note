Object：磁盘与文件系统管理
Time：2018-07-27
Auth;daozhang


	概述：
		磁盘的识别与分区
		建立和管理文件系统
		文件系统的挂载


		/dev/sda1

		sd  串行设备，scsi，u盘，等等外设
		hd  标识为IDE设备
		fd  软驱
		tty  终端
		vd   virtio磁盘


		a  标识磁盘的编号或者顺序  a,b,c,d………………
		1  代表分区的编号，以数字来标识   1,2,3,4,,5,6…………

	分区：
		MBR分区结构：
			主引导记录，是目前最广泛的一种分区结构，又成为DOS分区结构
			位于磁盘的0号扇区（512字节），MBR扇区


		组成部分：
			引导代码：
				负责整个系统的启动，引导代码占用440字节
			磁盘签名：
				初始化磁盘写入的磁盘标签，标签被损坏，则系统会提示‘初始化磁盘’，占用4字节大小
			MBR分区表：
				整个硬盘的分区表，占用64个字节（64/16=4）
			MBR结束标志：
				一直为‘55 AA’，占用扇区最后俩个字节



		GPT分区结构
			GUID分区

			组成部分：
				保护MBR
					位于GPT磁盘第一扇区，0号扇区，包含磁盘签名，MBR磁盘分区表和结束标志，没有引导代码
				GPT头部信息
					位于1号扇区，创建GPT磁盘时会定义分区表的起始位置，和结束位置以及每个分区项的大小和校验信息
				分区表
					2-33号磁盘，共用32扇区，最多创建128分区选项，每个分区表大小为128字节
				分区区域
					代表用户存储数据区域
				分区表备份
					对32个扇区进行完整的备份
				GPT头备份
					存放于最后一个扇区


			MBR与GPT的区别：
				识别磁盘MBR最多2T



		文件系统：
			文件系统是系统用于明确磁盘或者分区上的文件的方法和数据结构，
			用来组织和盛放数据的

			常用文件系统类型：
				linux：
					ext4， 第四代扩展文件系统
					ext3
					XFS   SGI高级日志文件系统
					SWAP  交换分区
				windows：
					Fat16,32 ，NFTS，JFS

			ext4与ext3的区别
				更多的子目录数量： ext3:32000子目录，ext4不限制
				编辑更大的文件系统和更大的文件
						ext3 最多支持32T的文件系统和2T的文件
						ext4支持文件系统为1EB，文件容量16TB
				日志校验功能

			XFS文件系统
				数据安全性
				可扩展性
				高带宽





		命令操作:
			fdisk -l    查看系统中所有磁盘或分区详情


			操作某块磁盘就写哪块

			fdisk /dev/sdb

			m    显示帮助信息
			n    新建一个分区
			p    查看分区
			d    删除一个分区
			q    退出不保存
			w    退出保存
			t    改变分区类型
			l    查看分区类型



			partprobe /dev/sdb    让分区立即生效
			mkfs -t ext4 /dev/sdb1

			mount  /dev/sdb1  /mnt/sdba

			df -hT  查看挂载